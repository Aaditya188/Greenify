<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Today's Weather</title>
  
  <link rel="stylesheet" href="../../static/assets/css/weather.css">
  <link href="../static/assets/img/favicon_io/favicon-32x32.png" rel="icon">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <style>
    .ml15 {
  font-size: 3.8em;
  text-transform: uppercase;
  letter-spacing: 0.5em;
  
}

.ml15 .word {
  display: inline-block;
  line-height: 1em;
  font-family: 'Noto', serif;
}
#block{
  animation: fadeIn ease 10s;
-webkit-animation: fadeIn ease 10s;
}

@keyframes fadeIn {
0% {opacity:0;}
100% {opacity:1;}
}

  </style>
</head>
<body onload="showPosition()">
<!-- partial:index.partial.html -->

<div id="scene">
  
  <div class="sky">
    
    <div class="stars layer" data-depth="0.3">
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
      <div class="star"></div>
    </div>
  </div>
  <div class="container">
    <div style="text-align: center;display: none;" id="block" >
      <h1  class="ml15" id="tct">
        <span class="word" id="w1" style="color: aliceblue;letter-spacing: 2px;margin-right: 800px;"></span><br>
        <span class="word" id="w2" style="color: aliceblue;letter-spacing: 2px;margin-left: 800px;"></span><br>
        <span class="word" id="w3" style="color: aliceblue;letter-spacing: 2px;margin-top: 100px;margin-left: 250px;font-size: 50px;"></span><br>
        <span class="word" id="w4" style="color: aliceblue;letter-spacing: 2px;margin-right: 600px;font-size: 40px;margin-top: 170px;"></span><br>
     <script>
     var d = new Date();var weekday = new Array(7);
    weekday[0] = "Sunday";
    weekday[1] = "Monday";
    weekday[2] = "Tuesday";
    weekday[3] = "Wednesday";
    weekday[4] = "Thursday";
    weekday[5] = "Friday";
    weekday[6] = "Saturday";
    var n = weekday[d.getDay()];
    w4.innerHTML = n;</script>
     
      </h1>
      </div>
    <div class="top layer" data-depth="0.1">
      <div class="light-house">
        <div class="top-triangle">
          <div class="top-triangle-circle-top"></div>
          <div class="top-triangle-circle-middle"></div>
          <div class="top-triangle-circle"></div>
          <div class="glow layer" data-depth="0.01"></div>
          <div class="shining-lights-container">
            <div class="shining-light-left"></div>
            <div class="shining-light-right"></div>
          </div>
          <div class="top-ledge"></div>
          <div class="top-bars">
            <div class="top-bar-1 topbar"></div>
            <div class="top-bar-2 topbar"></div>
            <div class="top-bar-3 topbar"></div>
            <div class="top-bar-4 topbar"></div>
            <div class="top-bar-5 topbar"></div>
            <div class="top-bar-6 topbar"></div>
          </div>
          <div class="top-railings">
            <div class="top-railing-1 railing"></div>
            <div class="top-railing-2 railing"></div>
            <div class="top-railing-3 railing"></div>
            <div class="top-railing-4 railing"></div>
            <div class="top-railing-5 railing"></div>
            <div class="top-railing-6 railing"></div>
          </div>
          <div class="mid-ledge"></div>
          <div class="mid-railings">
            <div class="overlay"></div>
            <div class="mid-railings-rail">
              <div class="mid-rail mid-rail-1"></div>
              <div class="mid-rail mid-rail-2"></div>
              <div class="mid-rail mid-rail-3"></div>
              <div class="mid-rail mid-rail-5"></div>
              <div class="mid-rail mid-rail-6"></div>
            </div>
            <div class="left-mid-railings"></div>
            <div class="right-mid-railings"></div>
          </div>
        </div>
        <div class="panel-container" id="rotate-x">
          <div class="left-mid-roof"></div>
          <div class="left-mid-roof-2"></div>
          <div class="panel"></div>
        </div>
        <div class="light"></div>
        <div class="right-attachment">
          <div class="right-roof"></div>
          <div class="right-building"></div>
        </div>
        <div class="lighthouse-lights">
          <div class="light-right-top light"></div>
          <div class="light-left-middle light"></div>
        </div>
        <div class="lighthouse-bottom-lights">
          <div class="light-right-bottom light"></div>
          <div class="light-left-bottom light"></div>
        </div>
        <div class="back-rocks">
          <div class="back-rock-1"></div>
          <div class="back-rock-2"></div>
          <div class="back-rock-3"></div>
        </div>
        <div class="front-rocks">
          <div class="front-rock-1"></div>
          <div class="satellite"></div>
          <div class="front-rock-2"></div>
          <div class="front-rock-3"></div>
        </div>
        <div class="shooting-stars"></div>
        <div class="glow-shine-container layer" data-depth="0.1">
          <div class="glow-shine-5 shine-circle"></div>
          <div class="glow-shine-4 shine-circle"></div>
          <div class="glow-shine-3 shine-circle"></div>
          <div class="glow-shine-1 shine-circle"></div>
          <div class="glow-shine-2 shine-circle"></div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="ocean">
        <div class="top-tier-1 ocean-layer"></div>
        <div class="top-tier-2 ocean-layer"></div>
        <div class="top-tier-3 ocean-layer"></div>
        <div class="top-tier-4 ocean-layer"></div>
        <div class="top-tier-5 ocean-layer"></div>
      </div>
    </div>
  </div>
</div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/parallax/2.1.3/parallax.min.js'></script><script  src="../../static/assets/js/weather.js"></script>
  <script>

    var input = document.querySelector('.input_text');
  var main = document.querySelector('#name');
  var temp = document.querySelector('.temp');
  var desc = document.querySelector('.desc');
  var clouds = document.querySelector('.clouds');
  var button= document.querySelector('.submit');
  
  const key="e06ec8d0c59cf771d3a918b75bf43063";
  function clck(latitude,longitude){
    let api = `http://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${key}`;  
        
        fetch(api)  
            .then(function(response){  
                let data = response.json();  
                return data;  
            })  
            .then(function(data){  
                fetch('https://api.openweathermap.org/data/2.5/weather?q='+data.name+'&appid=e06ec8d0c59cf771d3a918b75bf43063')
  .then(response => response.json())
  .then(data => {
    var tempValue = data['main']['temp'];
    var nameValue = data['name'];
    var descValue = data['weather'][0]['description'];
    var k = 273.15
    var c = tempValue-k;
    w1.innerHTML = nameValue;
    w2.innerHTML = descValue;
    w3.innerHTML = c.toFixed(1) +"Â°C";

  });
            });  
  
  }
  
  
    function showPosition() {
        if(navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var positionInfo = "Your current position is (" + "Latitude: " + position.coords.latitude + ", " + "Longitude: " + position.coords.longitude + ")";
                var locAPI= "http://maps.googleapis.com/maps/api/geocode/json?latlng"+position.coords.latitude+","+position.coords.longitude+"&sensor=true";
                document.getElementById("block").style.display = 'block'
                clck(position.coords.latitude,position.coords.longitude);
                 
              });
        } else {
            alert("Sorry, your browser does not support HTML5 geolocation.");
        }
    }
  </script>
</body>
</html>
